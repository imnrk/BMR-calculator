<!DOCTYPE html>
<html>
  <title>BMR Calculator</title>
  <head>
    <link rel="stylesheet" href="bmrcalc.css"/>
    <h1>BMR calculator</h1>
    <p>This calculator users the Mifflin-St Jeor Equation for calculation</p>
    <input type="button" value="What is BMR?" onclick="document.getElementById('info').style.display='block'"/>
    <p hidden id="info">The basal metabolic rate (BMR) is the amount of energy needed while resting \
        in a temperate environment when the digestive system is inactive. It is the equivalent of figuring out how much \
        gas an idle car consumes while parked.</p>
  </head>
  <script>

    let bmr=0; 

    function clickCounter(){
        // if(typeof(Storage)!==undefined){
        //   if(localStorage.clickcount){
        //     localStorage.clickcount=Number(localStorage.clickcount)+1;
        //   }
        //   else{
        //     localStorage.clickcount=1;
        //   }
        // }

        // document.getElementById("result").innerHTML="You clicked "+localStorage.clickcount+" time(s)";
    }

    function calc() {
      //sources - w3 schools/stack overflow/calculator.net
      //https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_toggle_hide_show
      //https://www.w3schools.com/tags/tag_select.asp
      //https://www.calculator.net/bmr-calculator.html?ctype=standard&cage=25&csex=m&cheightfeet=5&cheightinch=10&cpound=180&cheightmeter=180&ckg=60&cmop=0&coutunit=c&cformula=m&cfatpct=20&x=55&y=36
      let val="";
      if(document.getElementById("ml").checked){
      
      
      val = document.getElementById("weight").value*10 +
      (document.getElementById("height").value+
      document.getElementById("inchheight").value*0.0833)*6.25 -
      document.getElementById("age").value*5 +5;
      }
      else if(document.getElementById("fml").checked){
      val = document.getElementById("weight").value*10 +
      document.getElementById("height").value*6.25 -
      document.getElementById("age").value*5 -161;
      } 
      
      let ans="BMR : "+ Math.round(val);
      bmr=Math.round(val);

      document.getElementById("bmr").innerHTML=ans;
    }
    //Hidden information
    function calneed(){
      document.getElementById("dropdown").style.display="block";
      document.getElementById("exbtn").style.display="block";
    }
    //Expandable Input
    function calories(){
    //  console.log(parseFloat(document.getElementById("dropdown").value));
    let ex=parseFloat(document.getElementById("dropdown").value);
    document.getElementById("calorie").innerHTML="Daily Caloric Need is: "+ex*bmr+" calories.";
    
    }
    //Popover
    function exercise_help(){
      alert("Choose an option from the dropdown that best signifies your daily exercise regimen");
    }
  </script>
  <body>
    <div>
      <form>
        <table>
          <tr>
            <td><label>Age</label></td>
            <td><input type="text" id="age" name="Age" required/></td>
          </tr>
          <tr>
            <td><label>Gender</label></td>
            <td><input type="radio" id="ml" name="gen" value="male" checked>Male</input>
            <input type="radio" id="fml" name="gen" value="female">Female</input></td>
          </tr>
          
          <tr>
            <td><label>Height</label></td>
            <td><input id="height" type="text" required>feet</input><input id="inchheight" type="text" value="0">inches</input></td>
          </tr>
          <tr>
            <td><label>Weight</label></td>
            <td><input id="weight" type="text" required>pounds</input></td>
          </tr>
          

          <tr>
              <td><input type="button" id="calcbmr" value="Calculate"  onclick="calc()"/></td> 
              <td><input type="button" id="caloricneed" value="Check Caloric need" onclick="calneed()"</td>
          </tr>
          
        
        </table>
        <div>
         <select id="dropdown" style="display:none" onchange="calories()">
            <option value="1.2">Sedentary: little or no exercise</option>
            <option value="1.37">Exercise 1-3 times/week</option>
            <option value="1.45">Exercise 4-5 times/week</option>
            <option value="1.54">Daily exercise or intense exercise 3-4 times/week	</option>
            <option value="1.72">Intense exercise 6-7 times/week</option>
            <option value="1.9">Very intense exercise daily, or physical job</option>
          </select>
          <br />
          <input type="button" id="exbtn"value="Dropdown help" style="display:none" onclick="exercise_help()" />

        </div>
      </form>
      <p id="bmr"></p>
      <p id="calorie"></p>

    </div>

  </body>
</html>
